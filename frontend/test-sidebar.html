<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Focus Fox Sidebar Test</title>
    <style>
      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
          sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        line-height: 1.6;
      }
      .test-section {
        margin: 30px 0;
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 8px;
      }
      .highlight {
        background: #fff3cd;
        padding: 10px;
        border-radius: 4px;
        margin: 10px 0;
      }
      button {
        background: #ff5c1a;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 6px;
        cursor: pointer;
        margin: 5px;
      }
      button:hover {
        background: #ff7a3a;
      }
    </style>
  </head>
  <body>
    <h1>Focus Fox Sidebar Test Page</h1>

    <div class="test-section">
      <h2>Extension Features</h2>
      <p>
        This page tests the Focus Fox Chrome Extension Sidebar functionality:
      </p>
      <ul>
        <li>
          <strong>Floating Button:</strong> Look for the orange fox button in
          the bottom-left corner
        </li>
        <li>
          <strong>Text Selection:</strong> Select any text on this page to see
          the popup
        </li>
        <li>
          <strong>Keyboard Shortcut:</strong> Press Cmd+K (Mac) or Ctrl+K
          (Windows/Linux)
        </li>
        <li>
          <strong>Extension Icon:</strong> Click the extension icon in the
          toolbar
        </li>
      </ul>
    </div>

    <div class="test-section">
      <h2>Text Selection Test</h2>
      <p>
        Try selecting this text to test the selection popup functionality. When
        you select text, a popup should appear that allows you to ask Focus Fox
        about the selected content.
      </p>

      <div class="highlight">
        <strong>Sample text to select:</strong> This is some sample text that
        you can select to test the text selection popup functionality. The popup
        should appear when you select this text and allow you to send it to the
        Focus Fox sidebar.
      </div>
    </div>

    <div class="test-section">
      <h2>Manual Test Buttons</h2>
      <p>These buttons simulate the extension functionality for testing:</p>
      <button onclick="testOpenSidebar()">Open Sidebar</button>
      <button onclick="testOpenSidebarWithText()">
        Open Sidebar with Text
      </button>
    </div>

    <div class="test-section">
      <h2>Instructions</h2>
      <ol>
        <li>
          Load the extension in Chrome by going to
          <code>chrome://extensions/</code>
        </li>
        <li>Enable "Developer mode"</li>
        <li>
          Click "Load unpacked" and select the <code>frontend/dist</code> folder
        </li>
        <li>Navigate to this test page</li>
        <li>
          Test the floating button, text selection, and keyboard shortcuts
        </li>
      </ol>
    </div>

    <script>
      function testOpenSidebar() {
        if (typeof chrome !== "undefined" && chrome.runtime) {
          chrome.runtime.sendMessage({ type: "OPEN_SIDEBAR" });
        } else {
          alert("Extension not loaded or not available");
        }
      }

      function testOpenSidebarWithText() {
        if (typeof chrome !== "undefined" && chrome.runtime) {
          chrome.runtime.sendMessage({
            type: "OPEN_SIDEBAR_WITH_TEXT",
            text: "This is test text from the manual button.",
          });
        } else {
          alert("Extension not loaded or not available");
        }
      }

      // Add some sample content for testing
      document.addEventListener("DOMContentLoaded", function () {
        const content = `
                <div class="test-section">
                    <h2>Sample Content for Testing</h2>
                    <p>This is additional content that you can use to test the text selection functionality. You can select any part of this text to see the popup appear.</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
                    <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                </div>
            `;
        document.body.insertAdjacentHTML("beforeend", content);
      });
    </script>
  </body>
</html>
